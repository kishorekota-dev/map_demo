# NLU Service Development Environment Configuration
# Copy this to .env for local development

# ===== SERVER CONFIGURATION =====
PORT=3003
NODE_ENV=development
LOG_LEVEL=debug
HOST=localhost

# ===== SECURITY CONFIGURATION =====
JWT_SECRET=dev-jwt-secret-change-me-in-production
JWT_EXPIRY=24h

# ===== CORS CONFIGURATION =====
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080,http://localhost:8081

# ===== MICROSERVICE ENDPOINTS =====
# Inter-service communication URLs
API_GATEWAY_URL=http://localhost:3001
BANKING_SERVICE_URL=http://localhost:3005
NLP_SERVICE_URL=http://localhost:3002
MCP_SERVICE_URL=http://localhost:3004

# ===== SERVICE DISCOVERY =====
SERVICE_NAME=poc-nlu-service
SERVICE_VERSION=1.0.0
REGISTRY_URL=http://localhost:8500
SERVICE_HEALTH_CHECK_URL=http://localhost:3003/health

# ===== NLU CONFIGURATION =====
# Natural Language Understanding Settings
INTENT_CONFIDENCE_THRESHOLD=0.7
ENTITY_CONFIDENCE_THRESHOLD=0.8
MAX_QUERY_LENGTH=1000
DEFAULT_LANGUAGE=en

# ===== DIALOGFLOW CONFIGURATION =====
# Google DialogFlow settings
DIALOGFLOW_ENABLED=true
GOOGLE_PROJECT_ID=ai-experimentation-428115
DIALOGFLOW_PROJECT_ID=ai-experimentation-428115
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/dialogflow-key.json
DIALOGFLOW_LANGUAGE_CODE=en-US
DIALOGFLOW_SESSION_PATH_PREFIX=projects/ai-experimentation-428115/agent/sessions

# ===== BANKING DOMAIN CONFIGURATION =====
# Banking-specific NLU settings
BANKING_INTENT_MODELS_PATH=./models/banking
CUSTOM_ENTITY_MODELS_PATH=./models/entities
CONTEXT_TIMEOUT=300000

# ===== EXTERNAL AI SERVICES =====
# External AI/ML service endpoints for advanced NLU
OPENAI_API_URL=https://api.openai.com/v1
RASA_SERVER_URL=http://localhost:5005
SPACY_SERVER_URL=http://localhost:8080

# ===== API KEYS (Development) =====
# Use test/development keys only
OPENAI_API_KEY=your-openai-dev-key
DIALOGFLOW_CLIENT_EMAIL=your-service-account@poc-banking-chatbot-dev.iam.gserviceaccount.com

# ===== CACHING CONFIGURATION =====
CACHE_TTL=300
CACHE_MAX_SIZE=2000
REDIS_URL=redis://localhost:6379

# ===== RATE LIMITING =====
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=300

# ===== LOGGING CONFIGURATION =====
LOG_FILE_PATH=logs/nlu-service.log
LOG_MAX_FILES=5
LOG_MAX_SIZE=10MB

# ===== HEALTH CHECK CONFIGURATION =====
HEALTH_CHECK_INTERVAL=30000
SERVICE_TIMEOUT=5000

# ===== DEVELOPMENT SPECIFIC =====
# Enable detailed NLU processing logs in development
DEBUG_INTENT_DETECTION=true
DEBUG_ENTITY_EXTRACTION=true
DEBUG_DIALOGFLOW_INTEGRATION=true
DEBUG_BANKING_INTENTS=true
MOCK_DIALOGFLOW=false
MOCK_EXTERNAL_AI_SERVICES=true